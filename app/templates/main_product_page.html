{% extends "base.html" %}


{% block content %}

<style>
    * { box-sizing: border-box; }

    .container { 
    display: flex; 
    flex-flow: row wrap;
 }

    .v_align{
        display:inline-block;
    }

    .card-wrap {
    flex: 0 0 33.333%;
    display: flex;
    padding: 10px; 
 }
    
    .card {
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    flex: 0 0 100%;
    left: 230px;
  }

  .card-text{
    text-align: center;
    width: 300px;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

    .price {
    font-size: 20px;
    text-align: center;
  }

  .Category{
    text-align: center; 
  }

  .card-title{
    text-align: center;
    font-size: 20px;
  }

  .rating{
    text-align: center;
  }

    .card-button {
    border: none;
    outline: 0;
    padding: 12px;
    color: white;
    background-color: #000;
    text-align: center;
    cursor: pointer;
    width: 100%;
    font-size: 18px;
  }

  .card-button:hover {
    opacity: 0.7;
  }

    .sidebar{
      position: absolute;
      width: 220px;
      height:100%;
      background: #000000;
      padding: 30px 0px; 
      text-align: center;
      float:left;
      color:rgb(255, 255, 255);
      top:100px;
    }

    .header{
        position: absolute;
        text-indent: 11.5%;
        text-align: left;
        top:88px;
        left:235px;
    }


    .sidebar:Rating{
      position: absolute;
      left:0;
    width:100%;
    }


</style>


<br><br>

<body>
    
    <div class = "header">
        <h1>Products</h1>
    </div>

    <div class = "sidebar">
        <h2><u>Sort</u></h2>
        &nbsp
        <form name="Rating:">
          <h5>Ratings</h5>
          <select name="Home" onChange="window.document.location.href=this.options[this.selectedIndex].value;" value="GO">
              <option selected="selected"></option>
              <option value="/change_stat/no_simple">No Sort</option>
              <option value="/change_stat/rate_ASC">Worst Rated Items</option>
              <option value="/change_stat/rate_DESC">Top Rated Items</option>
          </select>
      </form>

      &nbsp
      
      <form name="Price:">
        <h5>Price</h5>
        <select name="Home" onChange="window.document.location.href=this.options[this.selectedIndex].value;" value="GO">
            <option selected="selected"></option>
            <option value="/change_stat/no_simple">No Sort</option>
            <option value="/change_stat/price_ASC">Least Expensive</option>
            <option value="/change_stat/price_DESC">Most Expensive</option>
        </select>
    </form>

    &nbsp

    <form name="Category:">
      <h5>Category</h5>
      <select name="Home" onChange="window.document.location.href=this.options[this.selectedIndex].value;" value="GO">
          <option selected="selected"></option>
          <option value="/index">No Sort</option>
          <option value="/index/category/Books">Books</option>
          <option value="/index/category/Clothing">Clothing</option>
          <option value="/index/category/Electronics">Electronics</option>
          <option value="/index/category/Furniture">Furniture</option>
          <option value="/index/category/Kitchenware">Kitchenware</option>
          <option value="/index/category/Personal_Care">Personal Care</option>
          <option value="/index/category/School">School</option>
          <option value="/index/category/Sports">Sports</option>
          <option value="/index/category/Toiletries">Toiletries</option>
          <option value="/index/category/Travel">Travel</option>
      </select>
  </form>
</div>
  </div>

  

    {% for product in avail_products %}
    <div class = "v_align">
    <div class = "container">
    <div class = "card-wrap">
    <div class="card " style="width: 21rem;height: 33rem;">
        <img class="card-img-top" src={{product.images}} onerror="this.onerror=null; this.src='https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg'" style='width: 320px; height: 200px; object-fit: scale-down;'>
        <div class="card-body">
          <h5 class="card-title">{{product.name}}</h5>
          <p class="card-text">{{product.description}}</p>
          <p class = "price">${{product.price}}</p>
          <p class = "rating">Rating: {{product.rating}}/5</p>
          <p class = "Category">Category: {{product.category}}</p>
          <form action="/ind_prod/{{product.id}}" method = "POST" value = product name = "prod">
            <input type="submit" value = "See more"/>  
        </form>
        </div>
      </div>
    </div>
</div>
</div>
      {% endfor %}


      <h3>Current Page: {{curr_page}}</h3>

     <form action="/index/{{next_page}}">
    <button name = "Next" 
            button style = "position:relative;align-self:center;height:70px;width:200px;margin:5px;" 
            type = "submit" 
            class = "button"
            value = "Next Page">Next Page</button>
      </form>
      
  {% if check %}
      <form action="/index/{{prev_page}}">
        <button name = "Prev" 
                button style = "position:relative;align-self:center;height:70px;width:200px;margin:5px;" 
                type = "submit" 
                class = "button"
                value = "Previous Page">Previous Page</button>
        </form>
    {% endif %}

  <form method="POST" action="/page_jump">
    <input type="text" name="Go To Page">
    <input type="submit" value="Go To Page">

</form>

    </body>

<br><br>


{% endblock %}